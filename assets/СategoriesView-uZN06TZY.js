import{_ as S,a as y}from"./VButton-PW1qBemq.js";import{u as r}from"./categories-rfuz-_Hf.js";import{c as E,e as d,f as u,a as _,b as c,g as m,h as s,F as I,r as L,o as a,m as v,i as p,t as N}from"./index-F1vNAxrB.js";import"./boxes-sp224Z4Y.js";const b={class:"сategories"},F={class:"title"},R={class:"height__body"},D={class:"сategories__item"},H={key:0},T={key:1},J={__name:"СategoriesView",setup(U){const k=E(()=>r().categories),l=d(!1),n=d(""),g=d(""),i=d(!1);function C(o){l.value=!0,i.value=!0,n.value=o.name,g.value=o.id}function f(){l.value=!1,i.value=!1,n.value=""}async function $(o){await r().postCategory(o),f()}async function w(){await r().updateCategory(n.value,g.value),f()}async function V(o){await r().deleteCategory(o)}return(o,e)=>{const h=u("router-link"),G=u("GIcon"),x=u("GSwiper"),B=u("GModal");return a(),_("div",b,[c("div",F,[m(h,{to:{name:"Home"},class:"title__h1"},{default:s(()=>[v(" Категории ")]),_:1}),c("div",{class:"title__add",onClick:e[0]||(e[0]=t=>l.value=!0)},[m(G,{name:"add"})])]),c("div",R,[(a(!0),_(I,null,L(k.value,t=>(a(),p(x,{key:t.id,onRight:M=>V(t.id),onLeft:M=>C(t)},{default:s(()=>[c("div",D,N(t.name),1)]),_:2},1032,["onRight","onLeft"]))),128)),m(B,{open:l.value,onClose:e[4]||(e[4]=t=>f())},{default:s(()=>[i.value?(a(),_("h2",T,"Изменить категорию")):(a(),_("h2",H,"Добавить категорию")),m(S,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t)},{default:s(()=>[v("Название категории")]),_:1},8,["modelValue"]),i.value?(a(),p(y,{key:3,onClick:e[3]||(e[3]=t=>w())},{default:s(()=>[v("Изменить")]),_:1})):(a(),p(y,{key:2,onClick:e[2]||(e[2]=t=>$(n.value))},{default:s(()=>[v("Добавить")]),_:1}))]),_:1},8,["open"])])])}}};export{J as default};
