import{K as m,p as i,I as a}from"./index-F1vNAxrB.js";const h=m("history",()=>{async function u(e,t){let n={who:i().user,date:r(),name:e.name,count:e.count,dateLife:e.dateLife,organization:t};await a.from("HISTORY").insert([n])}async function c(e,t,n){let s={who:i().user,date:r(),name:e.name,dateLife:e.dateLife,count:t,giver:n};await a.from("HISTORY").insert([s])}async function f(e,t){let{data:n,error:s}=await a.from("BOXES").select("*").eq("id",e),d={who:i().user,date:r(),name:n[0].name,dateLife:n[0].dateLife,count:n[0].count,change:{name:t.name,dateLife:t.dateLife,count:t.count}};await a.from("HISTORY").insert([d])}function r(){let e=new Date;return`${e.getFullYear()}-${o(e.getMonth()+1)}-${o(e.getDate())} ${o(e.getHours())}:${o(e.getMinutes())}:${o(e.getSeconds())}`}let o=e=>e<10?`0${e}`:e;return{postHistoryAccept:u,postHistoryGive:c,postHistoryChange:f}});export{h as u};
