import{_ as S,a as y}from"./VButton-3enoblqL.js";import{u as r}from"./givers-75ZRG54n.js";import{c as E,e as d,f as u,a as _,b as v,g as c,h as s,F as I,r as L,o as a,m,i as p,t as N}from"./index-SP2z9WD4.js";const b={class:"givers"},F={class:"title"},R={class:"height__body"},D={class:"givers__item"},H={key:0},T={key:1},A={__name:"GiversView",setup(U){const k=E(()=>r().givers),l=d(!1),n=d(""),g=d(""),i=d(!1);function G(o){l.value=!0,i.value=!0,n.value=o.name,g.value=o.id}function f(){l.value=!1,i.value=!1,n.value=""}async function C(o){await r().postGiver(o),f()}async function $(){await r().updateGiver(n.value,g.value),f()}async function w(o){await r().deleteGiver(o)}return(o,e)=>{const V=u("router-link"),h=u("GIcon"),x=u("GSwiper"),B=u("GModal");return a(),_("div",b,[v("div",F,[c(V,{to:{name:"Home"},class:"title__h1"},{default:s(()=>[m(" Получатели ")]),_:1}),v("div",{class:"title__add",onClick:e[0]||(e[0]=t=>l.value=!0)},[c(h,{name:"add"})])]),v("div",R,[(a(!0),_(I,null,L(k.value,t=>(a(),p(x,{key:t.id,onRight:M=>w(t.id),onLeft:M=>G(t)},{default:s(()=>[v("div",D,N(t.name),1)]),_:2},1032,["onRight","onLeft"]))),128)),c(B,{open:l.value,onClose:e[4]||(e[4]=t=>f())},{default:s(()=>[i.value?(a(),_("h2",T,"Изменить получателя")):(a(),_("h2",H,"Добавить получателя")),c(S,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t)},{default:s(()=>[m("Название получателя")]),_:1},8,["modelValue"]),i.value?(a(),p(y,{key:3,onClick:e[3]||(e[3]=t=>$())},{default:s(()=>[m("Изменить")]),_:1})):(a(),p(y,{key:2,onClick:e[2]||(e[2]=t=>C(n.value))},{default:s(()=>[m("Добавить")]),_:1}))]),_:1},8,["open"])])])}}};export{A as default};
