import{u as w,e as i,k as V,c as $,a as g,g as r,h as u,l as h,b,o as y,m as d,p as E}from"./index-F1vNAxrB.js";import{_ as m,a as x}from"./VButton-PW1qBemq.js";import{u as L,_ as k,r as p,e as q,m as B}from"./index-j01HK2U5.js";const N=b("h1",null,"Авторизация",-1),C={__name:"AuthLogin",setup(U){const f=w(),o=i(!1),t=i(!1),a=V({eMail:"",password:""}),c=$(()=>({eMail:{required:p,email:q},password:{required:p,minLength:B(8)}})),v={eMail:{required:'Поле "E-Mail" не заполнено;',email:'Поле "E-Mail" заполнено не верно;'},password:{required:'Поле "Пароль" не заполнено;',minLength:'Поле "Пароль" должно быть не менее 8 символов;'}},l=i([]),n=L(c,a);async function _(){if(o.value=!0,t.value=!1,l.value=[],await n.value.$validate()){const e={email:a.eMail,password:a.password};try{await E().logIn(e),f.push({name:"Home"})}catch{t.value=!0}}else n.value.$errors.forEach(e=>{l.value.push(v[e.$property][e.$validator])});o.value=!1}return(M,e)=>(y(),g("form",{onSubmit:e[2]||(e[2]=h(s=>_(),["prevent"]))},[N,r(m,{modelValue:a.eMail,"onUpdate:modelValue":e[0]||(e[0]=s=>a.eMail=s),modelModifiers:{trim:!0}},{default:u(()=>[d("E-Mail")]),_:1},8,["modelValue"]),r(m,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=s=>a.password=s),modelModifiers:{trim:!0},type:"password"},{default:u(()=>[d("Пароль")]),_:1},8,["modelValue"]),r(x,{disabled:o.value,error:t.value},{default:u(()=>[d("Войти")]),_:1},8,["disabled","error"]),r(k,{errors:l.value},null,8,["errors"])],32))}};export{C as default};
